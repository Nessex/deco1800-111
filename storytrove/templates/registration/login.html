{% load static %}
<!doctype html>
<html>
    <head>
        <title>StoryTrove</title>

        <!-- Generated from logo at http://www.favicon-generator.org -->
        <link rel="apple-touch-icon" sizes="57x57" href="{% static "storytrove/images/icons/apple-icon-57x57.png" %}">
        <link rel="apple-touch-icon" sizes="60x60" href="{% static "storytrove/images/icons/apple-icon-60x60.png" %}">
        <link rel="apple-touch-icon" sizes="72x72" href="{% static "storytrove/images/icons/apple-icon-72x72.png" %}">
        <link rel="apple-touch-icon" sizes="76x76" href="{% static "storytrove/images/icons/apple-icon-76x76.png" %}">
        <link rel="apple-touch-icon" sizes="114x114" href="{% static "storytrove/images/icons/apple-icon-114x114.png" %}">
        <link rel="apple-touch-icon" sizes="120x120" href="{% static "storytrove/images/icons/apple-icon-120x120.png" %}">
        <link rel="apple-touch-icon" sizes="144x144" href="{% static "storytrove/images/icons/apple-icon-144x144.png" %}">
        <link rel="apple-touch-icon" sizes="152x152" href="{% static "storytrove/images/icons/apple-icon-152x152.png" %}">
        <link rel="apple-touch-icon" sizes="180x180" href="{% static "storytrove/images/icons/apple-icon-180x180.png" %}">
        <link rel="icon" type="image/png" sizes="192x192"  href="{% static "storytrove/images/icons/android-icon-192x192.png" %}">
        <link rel="icon" type="image/png" sizes="32x32" href="{% static "storytrove/images/icons/favicon-32x32.png" %}">
        <link rel="icon" type="image/png" sizes="96x96" href="{% static "storytrove/images/icons/favicon-96x96.png" %}">
        <link rel="icon" type="image/png" sizes="16x16" href="{% static "storytrove/images/icons/favicon-16x16.png" %}">
        <link rel="manifest" href="{% static "storytrove/images/icons/manifest.json" %}">
        <meta name="msapplication-TileColor" content="#ffffff">
        <meta name="msapplication-TileImage" content="{% static "storytrove/images/icons/ms-icon-144x144.png" %}">
        <meta name="theme-color" content="#ffffff">

        <link rel="stylesheet" href="{% static "storytrove/styles/main.css" %}" />
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.4/css/bootstrap.min.css" integrity="sha384-2hfp1SzUoho7/TsGGGDaFdsuuDL0LX2hnUp6VkX3CUQ2K4K+xjboZdsXyp4oUHZj" crossorigin="anonymous">
        <link rel="stylesheet" href="{% static "vendor/fontawesome/css/font-awesome.min.css" %}" />
        <link rel="stylesheet" href="{% static "emojione/assets/css/emojione.min.css" %}" />

        <script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.js" integrity="sha256-PJrjXIDP4QU/V1Lil8/aPULjeX9nT7sJX72RFCJVnMk=" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.4/js/bootstrap.min.js" integrity="sha384-VjEeINv9OSwtWFLAtmc4JCtEJXXBub00gtSnszmspDLCtC0I4z4nqz7rEFbIZLLU" crossorigin="anonymous"></script>
        <script src="https://unpkg.com/react@15.3.1/dist/react.js"></script>
        <script src="https://unpkg.com/react-dom@15.3.1/dist/react-dom.js"></script>
        <script src="https://unpkg.com/babel-core@5.8.38/browser.min.js"></script>

        <script src="{% static "storytrove/api/libstorytrove.js" %}"></script>
        <script src="{% static "emojione/lib/js/emojione.min.js" %}"></script>
    </head>
    <body>
        <header>
            <div class="container">
                <div class="row m-t-1">
                    <div class="col-xs-12 p-b-1">
                        <span class="pull-right account-link-container">
                            <a href="/account/" class="btn btn-link">
                                <span>Sign In</span>
                            </a>
                            <div class="btn btn-link menu-link">
                                <div class="menu-link-wrapper">
                                    <i class="fa fa-bars fa-2x"></i>
                                    <span> Menu</span>
                                </div>
                            </div>
                        </span>
                        <a class="main-logo-link" href="/">
                            <img src="{% static "storytrove/images/icons/logo2.png" %}" class="logo"><span class="main-logo-text"> StoryTrove</span>
                        </a>
                    </div>
                </div>
            </div>
        </header>
        <main>
            <div class="container">
                <div class="row">
                    <div class="col-xs-12">
						<div class="row">
                        {% if form.errors %}
                        <div class="bs-callout bs-callout-info">Your username and password didn't match. Please try again.</div>
                        {% endif %}

                        {% if next %}
                            {% if user.is_authenticated %}
                                <div class="bs-callout bs-callout-info">Your account doesn't have access to this page. To proceed, please login with an account that has access.</div>
                            {% else %}
                                <div class="bs-callout bs-callout-info">Please login to see this page, or register if you do not already have an account.</div>
                                <a href="/account/register/" class="btn btn-primary">Register New Account</a>
                                <hr>
                            {% endif %}
                        {% endif %}
						</div>
                        <form method="post" action="{% url 'login' %}">
                            {% csrf_token %}
							
							<div class="row form-group">
								<label for="id_username">Username:</label>
								<input class="form-control" autofocus="" id="id_username" maxlength="254" name="username" type="text" required="">
							</div>
							<div class="row form-group">
								<label for="id_password">Password:</label>
								<input class="form-control" id="id_password" name="password" type="password" required="">
							</div>
							
							<!-- 
							<div class="row">
							{{ form.username.label_tag }}
                            {{ form.username }}
							</div>
							<div class="row">
							{{ form.password.label_tag }}
                            {{ form.password }}
							</div>
							-->
                                   

                            <input type="submit" class="btn btn-primary pull-right" value="login" />
                            <input type="hidden" name="next" value="{{ next }}" />
                        </form>
                    </div>
                </div>
            </div>
        </main>
        <footer>
            <div class="container">
                <div class="row m-t-1">
                    <div class="col-xs-12 text-xs-center">
                        Team Excite
                    </div>
                </div>
                <div class="row m-t-1 m-b-3">
                    <div class="col-xs-12 text-xs-center">
                        <img src="{%  static "vendor/trove/API-light.png" %}" alt="Trove logo">
                    </div>
                </div>
            </div>
        </footer>
        <nav class="sidebar-navigation">
            <a href="/login">Log In</a>
            <a href="/account/register">Register</a>
            <a href="/browse">Browse Prompts</a>
            <a href="/read">Read Stories</a>
        </nav>
        <script>
            $(document).click(function(event) {
                var $sb = $('.sidebar-navigation');

                if (!$(event.target).closest('.sidebar-navigation').length && !$(event.target).closest('.menu-link').length) {
                    if ($sb.hasClass('active')) {
                        $sb.removeClass('active');
                    }
                }
            });

            $('.menu-link').click(function() {
                var $sb = $('.sidebar-navigation');

                if (!$sb.hasClass('active')) {
                    $sb.addClass('active');
                }
            });
        </script>
    </body>
</html>
